<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><link rel="canonical" href="https://stingarv2.readthedocs.io/config_files.html" />
      <link rel="shortcut icon" href="img/favicon.ico" />
    <title>About the Configuration Files - STINGAR Installation Guide</title>
    <link rel="stylesheet" href="css/theme.css" />
    <link rel="stylesheet" href="css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/github.min.css" />
        <link href="css/buttons.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "About the Configuration Files";
        var mkdocs_page_input_path = "config_files.md";
        var mkdocs_page_url = "/config_files.html";
      </script>
    
    <script src="js/jquery-3.6.0.min.js" defer></script>
    <!--[if lt IE 9]>
      <script src="js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
      <script>hljs.initHighlightingOnLoad();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="." class="icon icon-home"> STINGAR Installation Guide
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="./search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption"><span class="caption-text">STINGAR</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="index.html">Installation Guide</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="#">Establish Prerequisites</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="requirements/membership.html">Join STINGAR Community</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="requirements/hardware.html">Confirm Hardware Requirements</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="requirements/software.html">Install Required Software</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="requirements/confirm.html">Verify Software Installation</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="#">Install STINGAR</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="install/run_quickstart.html">Run Installation Script</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="install/launch.html">Launch STINGAR</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="#">Prepare Honeypot Host Machine</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="prepare_hp_host/register_in_stingar.html">Register Machine in STINGAR</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="prepare_hp_host/setup_host.html">Setup Host Machine</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="#">Deploy a Honeypot</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="deploy_hp/launch.html">Launch STINGAR Deployment</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="deploy_hp/gen_sample_attacks.html">Generate Sample Attack Data</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="#">View Attack Information</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="attack_analysis/ui.html">Via STINGAR User Interface</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="attack_analysis/kibana.html">Via Kibana</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="attack_analysis/api.html">Via STINGAR API</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="attack_analysis/es.html">Via Elasticsearch</a>
                </li>
    </ul>
                  </li>
              </ul>
              <ul class="current">
                <li class="toctree-l1 current"><a class="reference internal current" href="config_files.html">About the Configuration Files</a>
                </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href=".">STINGAR Installation Guide</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="." class="icon icon-home" alt="Docs"></a> &raquo;</li><li>About the Configuration Files</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>

          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1>Configuration Files</h1>

<p>The STINGAR QuickStart script prompts for some configurable values and uses this information to creates 3 files that STINGAR depends upon. The three files are:</p>
<ul>
<li><span style="text-decoration:underline;">stingar.env</span> - Defines all environment variables used by all STINGAR components. This file contains values that define the API Key, port numbers, server names, passwords, the color scheme, etc.</li>
<li>
<p><span style="text-decoration:underline;">docker-compose.yml</span> - Defines the STINGAR Docker containers and configures these services. This file coordinates the services in an isolated environment.</p>
</li>
<li>
<p><span style="text-decoration:underline;">nginx.conf</span> - Nginx is a web service that controls access to STINGAR features by proxying URL requests to the appropriate service.</p>
</li>
</ul>
<p>The content of these files shouldn't be altered unless you understand the impact of the change. One small change can cause STINGAR to fail and it might be difficult to debug. Therefore, we discourage changing values in these files with the following 2 exceptions:</p>
<h4>1. Customize the STINGAR UI Appearance</h4>

<p>You may customize the appearance of your STINGAR UI by changing the color theme (dark &amp; light values) and the default number of rows that appear in the list of honeypot events. (These are defined at the bottom of the stingar.env file):</p>
<table>
<thead>
<tr>
<th>Env Var Name</th>
<th>Value</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>THEME_DARK_BASE_COLOR</td>
<td>363636</td>
<td>You may customize your STINGAR UI appearance by specifying the dark color.</td>
</tr>
<tr>
<td>THEME_LIGHT_BASE_COLOR</td>
<td>white</td>
<td>You may customize your STINGAR UI appearance by specifying the light color.</td>
</tr>
<tr>
<td>DEFAULT_ROWS_PER_PAGE</td>
<td>1000</td>
<td>Defines the default number of rows that will appear on the attach analysis page.</td>
</tr>
<tr>
<td>INSTITUTION_NAME</td>
<td>XYZ University</td>
<td>The name of your organization.  This will appear in the heading on each page of the UI.</td>
</tr>
</tbody>
</table>
<h4>2. Implement LDAP Authentication</h4>

<p>If your organization uses LDAP, you may configure STINGAR to authenticate users via your LDAP instance. To use LDAP, set LDAP_ENABLED to true and use the other LDAP variables to provide STINGAR with the info required to access it (host, port, base).  Once enabled, an [LDAP Login] button will appear on the STINGAR login page. Users may then choose to login with the username/password they use to access other systems within your organization.</p>
<p>STINGAR users still need a user record in STINGAR; then the person can use their organization login/password to access STINGAR. |</p>
<table>
<thead>
<tr>
<th>Env Var Name</th>
<th>Value</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>LDAP_ENABLED</td>
<td>false</td>
<td>Set to true to enable LDAP authentication; then provide connection info in the LDAP host/port/base variables.</td>
</tr>
<tr>
<td>LDAP_HOST</td>
<td></td>
<td>The hostname of your organization's LDAP instance.</td>
</tr>
<tr>
<td>LDAP_PORT</td>
<td>integer</td>
<td>The port number to access your organization's LDAP instance.</td>
</tr>
<tr>
<td>LDAP_BASE</td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<p>You will need to stop and restart STINGAR to see the results of changes to these values.</p>
<h2>stingar.env - Lists Environment Variables</h2>

<p>This file is divided into the following sections.</p>
<h5>Fluentd ENV variables</h5>

<p><a href="https://www.fluentd.org/architecture">Fluentd</a> is a data collector that transfers attack event information to your elasticsearch repository and optionally the STINGAR CIF where it is aggregated with data from other organizations and made available to the STINGAR community. Fluentd needs to be configured to let STINGAR know where to pickup &amp; deliver honeypot event transactions.</p>
<table>
<thead>
<tr>
<th>Env Var Name</th>
<th>Value</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>FLUENTD_HOST</td>
<td>fluentd</td>
<td>The name of the host upon which the honeypots reside.</td>
</tr>
<tr>
<td>FLUENTD_PORT</td>
<td>24224</td>
<td>The port number used to access honeypots.</td>
</tr>
<tr>
<td>FLUENTD_REMOTE_HOST</td>
<td>localhost</td>
<td></td>
</tr>
<tr>
<td>FLUENTD_LOCAL_PORT</td>
<td>24225</td>
<td></td>
</tr>
<tr>
<td>FLUENTD_KEY</td>
<td>random-string</td>
<td>Secret key provided with each transaction to prove a request is authorized</td>
</tr>
<tr>
<td>FLUENTD_APP</td>
<td>stingar</td>
<td></td>
</tr>
</tbody>
</table>
<h5>Fluent Bit ENV variables</h5>
<table>
<thead>
<tr>
<th>Env Var Name</th>
<th>Value</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>FLUENTBIT_HOST</td>
<td>fluentbit</td>
<td></td>
</tr>
<tr>
<td>FLUENTBIT_PORT</td>
<td>24284</td>
<td>Content Cell</td>
</tr>
<tr>
<td>FLUENTBIT_APP</td>
<td>stingar</td>
<td></td>
</tr>
<tr>
<td>FLUENTD_HOSTNAME</td>
<td>flb.local</td>
<td></td>
</tr>
</tbody>
</table>
<h5>CIF ENV variables</h5>
<table>
<thead>
<tr>
<th>Env Var Name</th>
<th>Value</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>CIF_ENABLED</td>
<td>false</td>
<td>Set to true if honeypot events are to be sent to the common STINGAR CIF.</td>
</tr>
<tr>
<td>CIF_HOST</td>
<td></td>
<td>Name of the server that hosts the common STINGAR CIF.</td>
</tr>
<tr>
<td>CIF_TOKEN</td>
<td>Key that you must use to communicate with the STINGAR CIF.</td>
<td></td>
</tr>
<tr>
<td>CIF_PROVIDER</td>
<td></td>
<td></td>
</tr>
<tr>
<td>CIF_DEFAULT</td>
<td>yellow</td>
<td></td>
</tr>
<tr>
<td>CIF_CONFIDENCE</td>
<td>9</td>
<td></td>
</tr>
<tr>
<td>CIF_TAGS</td>
<td>honeypots</td>
<td></td>
</tr>
<tr>
<td>CIF_GROUP</td>
<td>everyone</td>
<td></td>
</tr>
</tbody>
</table>
<h5>Docker repository settings</h5>

<p>This identifies the address where the latest STINGAR code can be retrieved.</p>
<table>
<thead>
<tr>
<th>Env Var Name</th>
<th>Value</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>DOCKER_REPOSITORY</td>
<td>stingarregistry.azurecr.io</td>
<td>The address of the repository from which you can download the STINGAR application.</td>
</tr>
<tr>
<td>DOCKER_USERNAME</td>
<td>{your STINGAR repo username}</td>
<td>Your STINGAR Registry username</td>
</tr>
<tr>
<td>DOCKER_PASSWORD</td>
<td>{your encrpted password}</td>
<td>Your STINGAR Registry password (encrypted)</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>Env Var Name</th>
<th>Value</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>API_HOST</td>
<td>http://stingarapi:8000/</td>
<td>The address used by STINGAR to call the API</td>
</tr>
<tr>
<td>API_KEY</td>
<td>{string of random chars}</td>
<td>Auto-generated by QuickStart to provide you with access to your STINGAR API</td>
</tr>
<tr>
<td>PASSPHRASE</td>
<td>{string of random chars}</td>
<td>Auto-generated by QuickStart to provide you with access to your STINGAR API</td>
</tr>
<tr>
<td>SALT</td>
<td>{string of random chars}</td>
<td>Auto-generated by QuickStart to provide you with access to your STINGAR API</td>
</tr>
<tr>
<td>STINGAR_SERVICE_URL</td>
<td>http://stingarapi:8000/api/v2</td>
<td>The URL that provides access to the STINGAR API.</td>
</tr>
<tr>
<td>UI_HOSTNAME</td>
<td>stingar.domain.edu</td>
<td>The server name that hosts the STINGAR UI.</td>
</tr>
</tbody>
</table>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="attack_analysis/es.html" class="btn btn-neutral float-left" title="Via Elasticsearch"><span class="icon icon-circle-arrow-left"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="attack_analysis/es.html" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
  </span>
</div>
    <script>var base_url = '.';</script>
    <script src="js/theme_extra.js" defer></script>
    <script src="js/theme.js" defer></script>
      <script src="search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
